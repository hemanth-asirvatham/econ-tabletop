You are generating a list of PolicyCard JSON objects using structured outputs.

Scenario Context:
{{ scenario_injection or "(none)" }}

Tone: {{ scenario_tone }}

Allowed categories:
{{ categories | join(", ") }}

Allowed tags:
{{ tags | join(", ") }}

Simulation outline:
{{ outline_text }}

Policy slots (one card per slot):
{{ slots | tojson }}

Required card ids (use these verbatim, in order):
{{ card_ids | tojson }}

Output JSON schema:
{
  "cards": [
    {
      "id": "string",
      "title": "string",
      "short_description": "string",
      "description": "string",
      "category": "string",
      "cost": {
        "budget_level": 1,
        "implementation_complexity": 1,
        "notes": "string"
      },
      "timeline": {
        "time_to_launch": "immediate|weeks|months|1-2y|3-5y",
        "time_to_impact": "immediate|weeks|months|1-2y|3-5y"
      },
      "impact_score": 1,
      "tags": ["string"],
      "addresses_tags": ["string"],
      "side_effect_tags": ["string"],
      "prerequisites_policy_tags": ["string"],
      "synergy_policy_tags": ["string"],
      "role_restrictions": ["string"],
      "art_prompt": "string",
      "flavor_quote": "string"
    }
  ]
}

Constraints:
- Produce exactly one card per slot, in the same order as card_ids.
- Generate the full list in one response; do not split or stream per-card outputs.
- Keep policies mutually exclusive: each card should represent a distinct lever, target, or mechanism without overlapping other cards.
- Avoid near-duplicates by varying instruments, stakeholders, and implementation mechanisms across the set.
- Categories and tags must come from the allowed lists.
- Use 1-3 tags per card; addresses_tags must overlap with the card tags.
- Use grounded, policy-relevant language; avoid sci-fi or sensationalism.
- Title: 2-4 words, simple and punchy (no subtitle, no colon).
- short_description: <= 60 characters; minimalist summary.
- description: 1 short sentence, <= 140 characters total.
- Ensure MECE coverage across categories and themes from the slots.
- Use the simulation outline to keep policy variety and stage relevance coherent.
- Include a broad mix of policy scale (pilot programs, national reforms, cross-border coordination) and domain (compute, workforce,
  AI safety, macro, finance, R&D, public-sector modernization, industrial policy, standards).
- Ensure at least a few cards mirror concrete policy archetypes (e.g., compute procurement initiative, retraining vouchers, AGI tax policy,
  AI audit liability regime, cross-border chip export coordination).
- art_prompt should be a concise instruction for a horizontal card illustration (no need to include title text here; it will be added later).
- Keep descriptions under ~140 characters.

Example (single card shown):
{
  "cards": [
    {
      "id": "policy_labor_reskill_vouchers",
      "title": "Reskilling Vouchers",
      "short_description": "Fast retraining support for displaced workers.",
      "description": "Offer short-course vouchers tied to local employer demand.",
      "category": "Macro",
      "cost": {
        "budget_level": 3,
        "implementation_complexity": 3,
        "notes": "Public-private partnerships reduce fiscal burden."
      },
      "timeline": {
        "time_to_launch": "months",
        "time_to_impact": "1-2y"
      },
      "impact_score": 3,
      "tags": ["workforce_reskilling", "employment_transition"],
      "addresses_tags": ["job_displacement", "skills_mismatch"],
      "side_effect_tags": ["fiscal_burden"],
      "prerequisites_policy_tags": [],
      "synergy_policy_tags": ["apprenticeship_expansion"],
      "role_restrictions": [],
      "art_prompt": "Horizontal illustration of a modern training lab with diverse adult learners, no readable text.",
      "flavor_quote": "\"A fast bridge to the next job is the best safety net.\""
    }
  ]
}
