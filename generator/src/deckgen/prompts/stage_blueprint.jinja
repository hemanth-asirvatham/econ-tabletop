You are generating a stage blueprint for development cards.

{% if additional_instructions -%}
Additional instructions (must be followed carefully and woven into the blueprint):
{{ additional_instructions }}
{% endif -%}

Stage:
{{ stage | tojson }}

Simulation outline:
{{ outline_text }}

Allowed tags:
{{ tags | join(", ") }}

Mix targets:
{{ mix_targets | tojson }}

Target card count: {{ target_count }}

Output JSON schema:
{
  "threads": [
    {
      "thread_id": "string",
      "beat_plan": ["string"],
      "target_count": 1,
      "valence_target": "positive|negative|mixed"
    }
  ],
  "special_counts": {
    "supersedes": 1,
    "conditional": 1,
    "powerups": 1,
    "quantitative_indicators": 1
  }
}

Constraints:
- Progress gradually from Stage 0 realism toward later stages.
- Use the simulation outline to keep stage differentiation, narrative continuity, and optimistic bias consistent.
- Ensure beats include a mix of near-term incremental shifts and longer-term escalations appropriate to the stage.
- Ensure a mix of quantitative indicators, institutional shifts, geopolitics, labor, and safety/security.
- Include some beats where market dynamics, firms, or civil society resolve pressures without new policy.
- Keep beat phrasing plain-language and legible; avoid overly specific program names or insider jargon.
- Frame beats as observable world-state changes (what changed, for whom, and how it manifests).
- Include a few powerup-style beats that explicitly describe acceleration or deceleration effects (e.g., research acceleration,
  compute bottlenecks, regulatory slowdowns) suitable for draw/limit modifiers.
- Make powerup beats grounded in realistic levers; tie them to the stage story (not abstract game mechanics).
- Avoid duplicate beats across threads.
- Use valence_target=positive or negative for most threads; only use mixed for neutral beats (no red/green arrow icons).
- Produce thread target_counts that sum to {{ target_count }} (or as close as possible).

Example:
{
  "threads": [
    {
      "thread_id": "labor_market_polarization",
      "beat_plan": ["AI copilots raise top-tier productivity", "mid-skill squeeze intensifies"],
      "target_count": 2,
      "valence_target": "negative"
    }
  ],
  "special_counts": {
    "supersedes": 1,
    "conditional": 1,
    "powerups": 1,
    "quantitative_indicators": 1
  }
}
