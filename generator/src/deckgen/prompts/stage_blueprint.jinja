You are generating a stage blueprint for development cards.

Scenario Context:
{{ scenario_injection or "(none)" }}

Stage:
{{ stage | tojson }}

Simulation outline:
{{ outline_text }}

Allowed tags:
{{ tags | join(", ") }}

Mix targets:
{{ mix_targets | tojson }}

Target card count: {{ target_count }}

Output JSON schema:
{
  "threads": [
    {
      "thread_id": "string",
      "beat_plan": ["string"],
      "target_count": 1,
      "valence_target": "positive|negative|mixed"
    }
  ],
  "special_counts": {
    "supersedes": 1,
    "conditional": 1,
    "powerups": 1,
    "quantitative_indicators": 1
  }
}

Constraints:
- Progress gradually from Stage 0 realism toward later stages.
- Use the simulation outline to keep stage differentiation and optimistic bias consistent.
- Ensure a mix of quantitative indicators, institutional shifts, geopolitics, labor, and safety/security.
- Include a few powerup-style beats that explicitly describe acceleration or deceleration effects (e.g., research acceleration,
  compute bottlenecks, regulatory slowdowns) suitable for draw/limit modifiers.
- Avoid duplicate beats across threads.
- Use valence_target=positive or negative for most threads; only use mixed for neutral beats (no red/green arrow icons).
- Produce thread target_counts that sum to {{ target_count }} (or as close as possible).

Example:
{
  "threads": [
    {
      "thread_id": "labor_market_polarization",
      "beat_plan": ["AI copilots raise top-tier productivity", "mid-skill squeeze intensifies"],
      "target_count": 2,
      "valence_target": "negative"
    }
  ],
  "special_counts": {
    "supersedes": 1,
    "conditional": 1,
    "powerups": 1,
    "quantitative_indicators": 1
  }
}
